import Decimal from "break_infinity.js";
import { UpgradeDefinition } from "@/lib/types";

// Upgrades are defined separately from their runtime state
// The game store will manage purchased status

export const upgradeDefinitions: UpgradeDefinition[] = [
  // === CLICK UPGRADES ===
  {
    id: "click_1",
    name: "Calligraphie",
    description: "Double le pouvoir de clic",
    cost: new Decimal(100),
    currency: "glyphs",
    category: "click",
    icon: "‚úçÔ∏è",
    multiplier: { type: "click", value: 2 },
    unlockAt: { resource: "totalGlyphsEarned", amount: new Decimal(50) },
  },
  {
    id: "click_2",
    name: "Encre Enchant√©e",
    description: "Triple le pouvoir de clic",
    cost: new Decimal(1000),
    currency: "glyphs",
    category: "click",
    icon: "üñãÔ∏è",
    multiplier: { type: "click", value: 3 },
    unlockAt: { resource: "totalGlyphsEarned", amount: new Decimal(500) },
  },
  {
    id: "click_3",
    name: "Main du Ma√Ætre",
    description: "x5 pouvoir de clic",
    cost: new Decimal(10000),
    currency: "glyphs",
    category: "click",
    icon: "ü§ö",
    multiplier: { type: "click", value: 5 },
    unlockAt: { resource: "totalGlyphsEarned", amount: new Decimal(5000) },
  },

  // === GENERATOR UPGRADES ===
  {
    id: "quill_boost_1",
    name: "Plumes Aff√ªt√©es",
    description: "Les plumes produisent x2",
    cost: new Decimal(200),
    currency: "glyphs",
    category: "generator",
    icon: "‚úíÔ∏è",
    multiplier: { type: "generator", generatorId: "quill", value: 2 },
    unlockAt: { resource: "generators", generatorId: "quill", amount: 5 },
  },
  {
    id: "quill_boost_2",
    name: "Encrier Sans Fond",
    description: "Les plumes produisent x3",
    cost: new Decimal(2000),
    currency: "glyphs",
    category: "generator",
    icon: "ü´ó",
    multiplier: { type: "generator", generatorId: "quill", value: 3 },
    unlockAt: { resource: "generators", generatorId: "quill", amount: 25 },
  },
  {
    id: "scribe_boost_1",
    name: "Formation Monastique",
    description: "Les scribes produisent x2",
    cost: new Decimal(1500),
    currency: "glyphs",
    category: "generator",
    icon: "üìú",
    multiplier: { type: "generator", generatorId: "scribe", value: 2 },
    unlockAt: { resource: "generators", generatorId: "scribe", amount: 5 },
  },
  {
    id: "scribe_boost_2",
    name: "Illumination",
    description: "Les scribes produisent x3",
    cost: new Decimal(15000),
    currency: "glyphs",
    category: "generator",
    icon: "üí°",
    multiplier: { type: "generator", generatorId: "scribe", value: 3 },
    unlockAt: { resource: "generators", generatorId: "scribe", amount: 25 },
  },
  {
    id: "scriptorium_boost_1",
    name: "Architecture Sacr√©e",
    description: "Les scriptoriums produisent x2",
    cost: new Decimal(15000),
    currency: "glyphs",
    category: "generator",
    icon: "üèõÔ∏è",
    multiplier: { type: "generator", generatorId: "scriptorium", value: 2 },
    unlockAt: { resource: "generators", generatorId: "scriptorium", amount: 5 },
  },
  {
    id: "press_boost_1",
    name: "Caract√®res Mobiles",
    description: "Les presses produisent x2",
    cost: new Decimal(150000),
    currency: "glyphs",
    category: "generator",
    icon: "üî§",
    multiplier: { type: "generator", generatorId: "press", value: 2 },
    unlockAt: { resource: "generators", generatorId: "press", amount: 5 },
  },
  {
    id: "library_boost_1",
    name: "Catalogue Infini",
    description: "Les biblioth√®ques produisent x2",
    cost: new Decimal(1500000),
    currency: "glyphs",
    category: "generator",
    icon: "üìö",
    multiplier: { type: "generator", generatorId: "library", value: 2 },
    unlockAt: { resource: "generators", generatorId: "library", amount: 5 },
  },

  // === GLOBAL UPGRADES ===
  {
    id: "global_1",
    name: "Sagesse Ancienne",
    description: "Toute production x1.5",
    cost: new Decimal(5000),
    currency: "glyphs",
    category: "global",
    icon: "üìø",
    multiplier: { type: "global", value: 1.5 },
    unlockAt: { resource: "totalGlyphsEarned", amount: new Decimal(2500) },
  },
  {
    id: "global_2",
    name: "Biblioth√®que d'Alexandrie",
    description: "Toute production x2",
    cost: new Decimal(50000),
    currency: "glyphs",
    category: "global",
    icon: "üî•",
    multiplier: { type: "global", value: 2 },
    unlockAt: { resource: "totalGlyphsEarned", amount: new Decimal(25000) },
  },
  {
    id: "global_3",
    name: "Connaissance Universelle",
    description: "Toute production x3",
    cost: new Decimal(500000),
    currency: "glyphs",
    category: "global",
    icon: "üåç",
    multiplier: { type: "global", value: 3 },
    unlockAt: { resource: "totalGlyphsEarned", amount: new Decimal(250000) },
  },

  // === SYNERGY UPGRADES ===
  {
    id: "synergy_1",
    name: "Cha√Æne de Copie",
    description: "+1% production par g√©n√©rateur poss√©d√©",
    cost: new Decimal(25000),
    currency: "glyphs",
    category: "synergy",
    icon: "üîó",
    multiplier: { type: "synergy", synergyType: "totalGenerators", value: 0.01 },
    unlockAt: { resource: "totalGenerators", amount: 50 },
  },
  {
    id: "synergy_2",
    name: "R√©seau de Scriptoriums",
    description: "+5% production par type de g√©n√©rateur d√©bloqu√©",
    cost: new Decimal(100000),
    currency: "glyphs",
    category: "synergy",
    icon: "üï∏Ô∏è",
    multiplier: { type: "synergy", synergyType: "generatorTypes", value: 0.05 },
    unlockAt: { resource: "generatorTypes", amount: 4 },
  },

  // === PRESTIGE UPGRADES (cost vocables) ===
  {
    id: "prestige_click",
    name: "Mot de Pouvoir",
    description: "x10 pouvoir de clic (permanent)",
    cost: new Decimal(5),
    currency: "vocables",
    category: "prestige",
    icon: "üí¨",
    multiplier: { type: "click", value: 10 },
    unlockAt: { resource: "vocables", amount: new Decimal(1) },
  },
  {
    id: "prestige_production",
    name: "Phrase Magique",
    description: "x2 toute production (permanent)",
    cost: new Decimal(10),
    currency: "vocables",
    category: "prestige",
    icon: "‚ú®",
    multiplier: { type: "global", value: 2 },
    unlockAt: { resource: "vocables", amount: new Decimal(5) },
  },
  {
    id: "prestige_start",
    name: "H√©ritage Linguistique",
    description: "Commence avec 100 glyphes apr√®s prestige",
    cost: new Decimal(3),
    currency: "vocables",
    category: "prestige",
    icon: "üéÅ",
    multiplier: { type: "startingGlyphs", value: 100 },
    unlockAt: { resource: "vocables", amount: new Decimal(1) },
  },
];
